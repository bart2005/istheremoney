<!doctype html>
<html lang="ru">

<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NQ3TSGL1DW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-NQ3TSGL1DW');
  </script>
  <script type="text/javascript" src="/src/assets/js/ya.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Как сайт индексирует Yandex| isthere.money</title>
  <meta name="description" content="Разбираюсь, почему Yandex не индексирует мои сайты">
  <link rel="canonical" href="https://isthere.money/articles/2026-01-23_where_is_yandex/index.html" />
  <link rel="stylesheet" href="/src/style.css">
</head>


<body>
  <header>
    <a href="/">isthere.money</a>
  </header>
  <main>
    <article>
      <h1>Почему молчит Yandex?</h1>
      <div><a href="/src/articles/2026-01-22_google_indexing_thoughts/index.html">Ранее: Google добавил еще одну
          страницу в выдачу</a></div>
      <p><time datetime="2026-01-23">2026-01-23</time> </p>
      <div>
        В целом, ситуация такая: гугл уже вовсю прошерстил мой сайт, прошло пара дней:
        <ul>
          <li>
            2026.01.14 - сайт идет в онлайн
          </li>
          <li>
            2026.01.17 - сайт появляется в выдаче гугла по запросу site:isthere.money
          </li>
          <li>
            2026.01.23 - 4 ссылки по запросу site:isthere.money, обновление заглавной страницы
          </li>
        </ul>
        Т.е. гугл заходит на главную раз в 2 дня. Заходит и (далее выдумано) радуется: контент изменяется, все отлично,
        Ligthouse не ругается (тут же я решил проверить и о ужас: 92 за seo. Ссылка в шапке не абсолютная, видите ли.
        Срочно, стоп машина, правим фейл.).
      </div>
      <p><time datetime="18:32:24">18:32:22</time> </p>
      <div class="">
        С lighthouse разобрался, теперь вернемся к Яше. Где выдача, дружок?
      </div>
      <h2>Добавляюсь к Ядексу</h2>
      <div class="">Неожиданно (хотя почему) это оказалось задачей нетривиальной. Ну так потратил я на это часика 2
        точно. Пришлось даже плагин для parcel писать.</div>
      <div class="">Вообщем, дело было так.</div>
      <div class="">Зашел в Яндексный вебмастер и скачал файл подтверждения. Ну дело плевое, добавляю его, точно так же
        как и гугловый, через <code>a style="display: none"</code> ссылку . Чек и ... па-бам, ноль результатов.
        Эээ, чего? И поехали.</div>
      <h3>Cloudflare и проверочный Yandex файл</h3>

      <div class="">Оказывается Cloudflare все <code>path/index.html</code> редиректит на <code>path</code>. Яндекс по
        редиректам не ходит, плачет что файла нет.
        Поковыряв, минут 20 разные варианты типа <code>yandex_file.html/index.html</code> я убеждаюсь, что такими
        наивными методами Cloudflare не обмануть и он упорно отдает файл мимо яшиных рук. Иду к ИИ, что за редиректы,
        как убрать. А мол, это норм, не уберешь, кури.
      </div>
      <div class="">Ладно, переходим к опциям. Yandex Tag.</div>
      <h3>Parcel и Yandex Tag</h3>
      <div class="">Ну то, что parcel минимизирует результирующий html это понятно, на том и стоит. Также было, в
        принципе, ожидаемо, что Яндекс с такими финтами не подружится. Вообще, конечно, очень быстрый способ был слегка
        поправить команду сборки на Cloudflare, убрать, то есть, минимизацию. Но это уже вызов. Программистский вызов:
        лучше потратить день на хитроумное решение, чем 10 минут на костылик.</div>
      <div class="">Итого: </div>
      <h3>Пишем свой оптимизатор для parcel</h3>
      <div class="">Итак, задача: обмануть parcel и переоптимизировать его оптимизации. Идем к АИ, давай код, дядя. Ну
        тот, так точно, вот код. </div>

      <div>Короче, дальше здесь должны быть технические детали, так как простым кодом от Deepseek я не отделался,
        пришлось все-таки идти к документам и логике. </div>
      <div class="">Но, в итоге, все, конечно, получилось и Яндекс заулыбался.</div>
      <div class="">А, ну как плюшка, всплыли мелкие косяки и неожиданные открытия. <div class="">Дату я в элементах
          <code>time</code>
          пишу, оказывается,
          неправильно, validator.w3.org ругается ошибкой.
        </div>
        <div>Parcel оптимизирует html так, что убирает и <code>head</code> и
          все ,якобы, ненужные слэши, и даже кавычки. Я, кстати, на этом сильно споткнулся, так как html от Chrome и
          html,
          как его видит Яндексный бот - это две большие разницы. И в страницах, оптимизированных parcel, который
          извлекается через curl, элементы могут вообще не иметь кавычек, типа
          <code>link rel=canonical href=https://isthere.money</code>. Ну, ясно, почему Яндекс там аж поперхнулся. АИ,
          кстати, тоже матерился, мол, ооо, криминал, сайт взорвется. Пфф, идем к провяряющему validator.w3.org. Тот,
          нет, батенька, все отлично, дату поправь, дата вот ужасная, а так все устраивает.
        </div>
        <div class="">Вообщем, через пень колоду сайт поднимается на новый уровень, где все его проверяют и радуются
          (кстати, для этого выпиливаю обратно все яндексные тэги, т.к. мой оптимиизатор слегка сам не оптимизированный
          и подламывает структуру html, оборачивая в <code>head</code> только яндексную часть).</div>

    </article>

  </main>
  <footer>
    <a href="https://t.me/istheremoney/28" target="_blank" rel="noopener noreferrer">Обсуждение в Telegram</a>
  </footer>

  <noscript>
    <div><img src="https://mc.yandex.ru/watch/106420495" style="position:absolute; left:-9999px;" alt="" /></div>
  </noscript>
</body>


</html>